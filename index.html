<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Boom Locator</title>
</head>
<style>
    .container {
        position: absolute;
        top: 50%;
        left: 50%;
        margin-right: -50%;
        transform: translate(-50%, -50%)
     }
    .boom {
        width: 150px;
        height: 10px;
        transform: translate(150px, 10px) rotate(90deg);
        transform-origin: left;
        background: #ff0000;
    }

    .predicted {
        width: 150px;
        height: 10px;
        transform: translate(150px, 10px) rotate(100deg);
        transform-origin: left;
        background: #000000;
    }
</style>
<body>
<!--<svg width="400" height="110">
    <rect width="300" height="20" style="fill:rgb(0,0,255)"/>
</svg>-->
<div class="container" id="container">
<div class="boom" id="boom"></div>
<div class="predicted" id="predicted"></div>
<!--<div id="angle">not this</div>-->
</div>
<div id="angle">not this</div>

<script>
  let boomAngle = (90 - 65);
  let predictedAngle = boomAngle + 10;

  let boomMovement = +1;
  let predictedMovement = +1;

  setInterval(function () {
    rotater()
  }, 20);

  function rotater() {
    let boomElement = document.getElementById("boom");
    let predictedElement = document.getElementById("predicted");

    boomAngle += boomMovement;
    predictedAngle += predictedMovement;

    if (boomAngle % 360 < 90) {
      boomElement.style.background = "#ff0000";
    } else {
      boomElement.style.background = "#00FF00";
    }

    function limitAngle(angle, movement) {
      if (angle > (90 + 65)) {
        return -1
      } else if (angle < (90 - 65)) {
        return +1
      }
      return movement
    }

    boomMovement = limitAngle(boomAngle, boomMovement);
    predictedMovement = limitAngle(predictedAngle, predictedMovement);

    boomElement.style.transform = "translate(150px, 10px) rotate(" + boomAngle + "deg)";
    predictedElement.style.transform = "translate(150px, 10px) rotate(" + predictedAngle + "deg)";
    document.getElementById("angle").textContent = (boomAngle - 90) + " degrees";
  }
</script>
</body>
</html>
